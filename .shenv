################################################

export TZ="Asia/Taipei"
export DATE='date +%Y%m%d-%H%M%S'

export LANG=C
# export LANG=en_US.utf8
# export LANG=zh_CN.gb18030

export LD_LIBRARY_PATH=${HOME}/tools/lib

alias makej='make -j $((`grep processor /proc/cpuinfo | wc -l` * 3 / 2))'

resetpath()
{
	# My tools first
	PATH=${HOME}/tools/bin
	# Add Java
	PATH=${PATH}:/usr/lib/jvm/java-6-sun/bin
	# Add HiSilicon tools
	PATH=${PATH}:/home/root/bin/x86-arm/arm-hisiv200-linux/target/bin
	# Add system tools
	PATH=${PATH}:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games

    PATH=${PATH}:/opt/arm-2010q1/bin:${HOME}/arm-linux-androideabi-4.8/bin

	export PATH
}
resetpath

### Global commands

alias where='find . -name'
alias subd='find . -type d -name'
# alias which='alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'
alias which='alias | /usr/bin/which -a'
alias whos='grep -R . -I -e '
alias whosw='grep -Rw . -I -e '

alias diff='diff -Bwprd -U 10 --unidirectional-new-file'

alias cd='cd -P'
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias ..='cd ..'

# he()
# {
# 	if [ "$1" = "" ]
# 	then
# 		emacsclient -t -e '(switch-to-buffer "1shell")'
# 	else
# 		emacsclient -a emacs $1 $2 $3 $4
# 	fi
# }

alias he='emacs -nw'
alias emacs='emacs -nw'

proxy()
{
	export http_proxy=http://o00244801:$1@proxyus2.huawei.com:8080/
	export https_proxy=$http_proxy
	export HTTPS_PROXY=$http_proxy
	export ALL_PROXY=$http_proxy
	git config --global http.proxy $http_proxy
	git config --global core.gitproxy $http_proxy
}

cwhos()
{
	find . -name *.[chS] -exec grep -H $1 \{\} \;
}

envbak()
{
	pushd ~
    mkdir .backup
	tar --exclude=.emacs.d/backup/* --exclude=.emacs.d/eshell/[hl]* --exclude=.emacs.d/auto-save-list/* --exclude=.emacs.d/\#* -acf .backup/env-`date +%Y%m%d`.tar.bz2 .bashrc .emacs .emacs.d/ .profile .shenv .workenv .tmux.conf .toprc .vim/ .vimrc .nanorc
	popd
}

################################################

if [ -f ~/.workenv ]; then
	. ~/.workenv
fi

################################################
